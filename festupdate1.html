<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-GoRhythm | Maslac Arts Fest 25</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff416c;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --codex: #FF6B6B;
            --syntax: #4ECDC4;
            --vertex: #45B7D1;
            --logix: #96CEB4;
        }
        
        body {
            color: var(--dark);
            line-height: 1.6;
            position: relative;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" viewBox="0 0 400 400"><text x="50" y="200" font-family="Arial" font-size="80" font-weight="bold" fill="rgba(106,17,203,0.05)">AI-GoRhythm</text></svg>');
            background-repeat: repeat;
            z-index: -1;
            opacity: 0.3;
            pointer-events: none;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 30px 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            position: relative;
            z-index: 10;
        }
        
        .logo {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        nav {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            flex-wrap: wrap;
        }
        
        nav li {
            margin: 0 15px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        nav a:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .admin-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .admin-btn:hover {
            background: #e03a5f;
        }
        
        section {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
        }
        
        .hero {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            min-height: 400px;
        }
        
        .hero-content {
            z-index: 2;
            position: relative;
            padding: 30px;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            max-width: 80%;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        .teams-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .team-card {
            padding: 20px;
            border-radius: 10px;
            color: white;
            text-align: center;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .team-card:hover {
            transform: translateY(-5px);
        }
        
        .team-card.codex {
            background: linear-gradient(135deg, var(--codex), #ff8e8e);
        }
        
        .team-card.syntax {
            background: linear-gradient(135deg, var(--syntax), #7ee6df);
        }
        
        .team-card.vertex {
            background: linear-gradient(135deg, var(--vertex), #6ac9e6);
        }
        
        .team-card.logix {
            background: linear-gradient(135deg, var(--logix), #b4e6cb);
        }
        
        .team-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .team-points {
            font-size: 2rem;
            font-weight: 800;
        }
        
        .categories-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .category-card {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .category-header {
            padding: 15px;
            color: white;
            text-align: center;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .category-body {
            padding: 20px;
            background-color: white;
        }
        
        .leading-team {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .team-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .team-color.codex {
            background-color: var(--codex);
        }
        
        .team-color.syntax {
            background-color: var(--syntax);
        }
        
        .team-color.vertex {
            background-color: var(--vertex);
        }
        
        .team-color.logix {
            background-color: var(--logix);
        }
        
        .results-section {
            display: none;
        }
        
        .results-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .position-group {
            grid-column: span 2;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .program-group {
            grid-column: span 2;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark);
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            grid-column: span 2;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .results-table th, .results-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .results-table th {
            background-color: var(--light);
            color: var(--primary);
            font-weight: 700;
        }
        
        .results-table tr:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        .admin-dashboard {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px;
        }
        
        .admin-panel {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 1000px;
            margin: 0 auto;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }
        
        .admin-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .admin-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        
        .admin-tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
            font-weight: 600;
        }
        
        .admin-content {
            display: none;
        }
        
        .admin-content.active {
            display: block;
        }
        
        .close-admin {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
        }
        
        .edit-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 30px;
        }
        
        .search-container {
            margin-bottom: 20px;
        }
        
        .search-box {
            width: 100%;
            padding: 12px 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .student-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .student-info h3 {
            margin-bottom: 5px;
            color: var(--primary);
        }
        
        .student-points {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--secondary);
        }
        
        .student-house {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .house-codex {
            background-color: var(--codex);
            color: white;
        }
        
        .house-syntax {
            background-color: var(--syntax);
            color: white;
        }
        
        .house-vertex {
            background-color: var(--vertex);
            color: white;
        }
        
        .house-logix {
            background-color: var(--logix);
            color: white;
        }
        
        .points-update {
            background-color: #e8f5e8;
            border-left: 4px solid #4CAF50;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }

        /* Program Search Styles */
        .program-search-container {
            position: relative;
        }

        .program-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 5px 5px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .program-suggestion {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
        }

        .program-suggestion:hover {
            background-color: #f8f9fa;
        }

        .program-suggestion:last-child {
            border-bottom: none;
        }

        .program-code {
            font-weight: bold;
            color: var(--primary);
        }

        .program-name {
            color: var(--dark);
            font-size: 0.9rem;
        }

        .program-details {
            margin-top: 5px;
            font-size: 0.8rem;
            color: var(--gray);
        }

        .selected-program {
            background-color: #e8f4ff;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            border-left: 4px solid var(--primary);
        }

        .program-detail-row {
            display: flex;
            margin-bottom: 5px;
        }

        .program-detail-label {
            font-weight: 600;
            width: 150px;
            color: var(--primary);
        }

        .program-detail-value {
            flex: 1;
        }

        /* Grade field styling */
        .grade-group {
            grid-column: span 2;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .results-form, .edit-form {
                grid-template-columns: 1fr;
            }
            
            .position-group, .program-group, .grade-group {
                grid-column: span 1;
                grid-template-columns: 1fr;
            }
            
            button {
                grid-column: span 1;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav li {
                margin: 5px 0;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .admin-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div id="publicView">
        <header>
            <div class="container">
                <div class="logo">AI-GoRhythm</div>
                <div class="tagline">Maslac Arts Fest 25 | Where Algorithm Meets Art</div>
            </div>
        </header>
        
        <div class="container">
            <nav>
                <ul>
                    <li><a href="#teams">Teams</a></li>
                    <li><a href="#categories">Categories</a></li>
                    <li><a href="#students">Top Students</a></li>
                    <li><a href="#leaderboard">Leaderboard</a></li>
                </ul>
                <button class="admin-btn" id="openAdmin">Admin Login</button>
            </nav>
            
            <section class="hero" style="background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80') center/cover;">
                <div class="hero-content">
                    <h1>The Algorithm is Controlling the Whole World</h1>
                    <p>Our arts fest "AI–GoRhythm" is a creative celebration that explores the invisible patterns shaping our lives. Built on the theme "the algorithm is controlling the whole world," it reflects how technology silently directs our choices, actions, and even emotions. Through performances, exhibitions, and artistic expressions, we aim to reveal the rhythm of control that surrounds us, reminding everyone that in today's world, no one is completely free from influence. Algo–Rhythm is not just an event, but a powerful reminder of how deeply we are all intertwined with systems that guide our every step.</p>
                </div>
            </section>
            
            <section id="teams">
                <h2>Team Standings</h2>
                <div class="teams-container">
                    <div class="team-card codex">
                        <div class="team-name">Codex</div>
                        <div class="team-points">2450</div>
                    </div>
                    <div class="team-card syntax">
                        <div class="team-name">Syntax</div>
                        <div class="team-points">2310</div>
                    </div>
                    <div class="team-card vertex">
                        <div class="team-name">Vertex</div>
                        <div class="team-points">2180</div>
                    </div>
                    <div class="team-card logix">
                        <div class="team-name">Logix</div>
                        <div class="team-points">2050</div>
                    </div>
                </div>
            </section>
            
            <section id="categories">
                <h2>Category Leaders</h2>
                <div class="categories-container">
                    <div class="category-card">
                        <div class="category-header" style="background-color: #FF9E80;">Sub-Junior</div>
                        <div class="category-body">
                            <div class="leading-team">
                                <div class="team-color syntax"></div>
                                <div>Syntax - 650 points</div>
                            </div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-header" style="background-color: #81C784;">Junior</div>
                        <div class="category-body">
                            <div class="leading-team">
                                <div class="team-color codex"></div>
                                <div>Codex - 720 points</div>
                            </div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-header" style="background-color: #64B5F6;">Senior</div>
                        <div class="category-body">
                            <div class="leading-team">
                                <div class="team-color vertex"></div>
                                <div>Vertex - 580 points</div>
                            </div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-header" style="background-color: #BA68C8;">Super Senior</div>
                        <div class="category-body">
                            <div class="leading-team">
                                <div class="team-color logix"></div>
                                <div>Logix - 620 points</div>
                            </div>
                        </div>
                    </div>
                    <div class="category-card">
                        <div class="category-header" style="background-color: #4DB6AC;">General</div>
                        <div class="category-body">
                            <div class="leading-team">
                                <div class="team-color codex"></div>
                                <div>Codex - 680 points</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="students">
                <h2>Top Students</h2>
                <div class="search-container">
                    <input type="text" class="search-box" id="studentSearch" placeholder="Search by name, ID, or house...">
                </div>
                <div id="studentsList">
                    <!-- Student cards will be added here -->
                </div>
            </section>
            
            <section id="leaderboard">
                <h2>Overall Leaderboard</h2>
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Team</th>
                            <th>Sub-Junior</th>
                            <th>Junior</th>
                            <th>Senior</th>
                            <th>Super Senior</th>
                            <th>General</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Codex</strong></td>
                            <td>620</td>
                            <td>720</td>
                            <td>530</td>
                            <td>500</td>
                            <td>680</td>
                            <td><strong>3050</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Syntax</strong></td>
                            <td>650</td>
                            <td>680</td>
                            <td>540</td>
                            <td>580</td>
                            <td>610</td>
                            <td><strong>3060</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Vertex</strong></td>
                            <td>580</td>
                            <td>640</td>
                            <td>580</td>
                            <td>550</td>
                            <td>590</td>
                            <td><strong>2940</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Logix</strong></td>
                            <td>610</td>
                            <td>590</td>
                            <td>530</td>
                            <td>620</td>
                            <td>570</td>
                            <td><strong>2920</strong></td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
        
        <footer>
            <div class="container">
                <p>AI-GoRhythm | Maslac Arts Fest 25 | Where Algorithm Meets Art</p>
            </div>
        </footer>
    </div>

    <div id="adminDashboard" class="admin-dashboard">
        <div class="admin-panel">
            <div class="admin-header">
                <h2>Admin Dashboard</h2>
                <button class="close-admin" id="closeAdmin">Close Dashboard</button>
            </div>
            
            <div class="admin-tabs">
                <div class="admin-tab active" data-tab="results">Results Management</div>
                <div class="admin-tab" data-tab="teams">Team Points</div>
                <div class="admin-tab" data-tab="categories">Category Leaders</div>
            </div>
            
            <div id="results-tab" class="admin-content active">
                <h3>Upload Results</h3>
                <form id="adminResultForm" class="results-form">
                    <div class="form-group">
                        <label for="adminStudentId">Student ID</label>
                        <input type="text" id="adminStudentId" required>
                    </div>
                    <div class="form-group">
                        <label for="adminStudentName">Student Name</label>
                        <input type="text" id="adminStudentName" required>
                    </div>
                    <div class="form-group program-group">
                        <label for="adminProgramCode">Program Code</label>
                        <div class="program-search-container">
                            <input type="text" id="adminProgramCode" placeholder="Type program code (e.g., SBNS1, JNST5)" required>
                            <div class="program-suggestions" id="programSuggestions"></div>
                        </div>
                        <div class="selected-program" id="selectedProgram" style="display: none;">
                            <strong>Selected Program:</strong>
                            <div id="selectedProgramText"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="adminCategory">Category</label>
                        <select id="adminCategory" required>
                            <option value="">Select Category</option>
                            <option value="sub-junior">Sub-Junior</option>
                            <option value="junior">Junior</option>
                            <option value="senior">Senior</option>
                            <option value="super-senior">Super Senior</option>
                            <option value="general">General</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="adminTeam">House</label>
                        <select id="adminTeam" required>
                            <option value="">Select House</option>
                            <option value="codex">Codex</option>
                            <option value="syntax">Syntax</option>
                            <option value="vertex">Vertex</option>
                            <option value="logix">Logix</option>
                        </select>
                    </div>
                    <div class="position-group">
                        <div class="form-group">
                            <label for="adminPosition">Position</label>
                            <select id="adminPosition" required>
                                <option value="">Select Position</option>
                                <option value="1st">1st</option>
                                <option value="2nd">2nd</option>
                                <option value="3rd">3rd</option>
                                <option value="participation">Participation</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="adminGrade">Grade</label>
                            <select id="adminGrade" required>
                                <option value="">Select Grade</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="participation">Participation</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="adminPoints">Points</label>
                        <input type="number" id="adminPoints" min="0" max="50" readonly>
                    </div>
                    <button type="submit">Upload Result</button>
                </form>
                
                <h3 style="margin-top: 30px;">Recent Results</h3>
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Name</th>
                            <th>Program</th>
                            <th>Category</th>
                            <th>House</th>
                            <th>Position</th>
                            <th>Grade</th>
                            <th>Points</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="adminResultsTableBody">
                    </tbody>
                </table>
            </div>
            
            <div id="teams-tab" class="admin-content">
                <h3>Edit Team Points</h3>
                <form class="edit-form" id="teamPointsForm">
                    <div class="form-group">
                        <label for="codexPoints">Codex Points</label>
                        <input type="number" id="codexPoints" value="2450" required>
                    </div>
                    <div class="form-group">
                        <label for="syntaxPoints">Syntax Points</label>
                        <input type="number" id="syntaxPoints" value="2310" required>
                    </div>
                    <div class="form-group">
                        <label for="vertexPoints">Vertex Points</label>
                        <input type="number" id="vertexPoints" value="2180" required>
                    </div>
                    <div class="form-group">
                        <label for="logixPoints">Logix Points</label>
                        <input type="number" id="logixPoints" value="2050" required>
                    </div>
                    <button type="submit">Update Team Points</button>
                </form>
            </div>
            
            <div id="categories-tab" class="admin-content">
                <h3>Edit Category Leaders</h3>
                <form class="edit-form" id="categoryLeadersForm">
                    <div class="form-group">
                        <label for="subJuniorTeam">Sub-Junior Leader</label>
                        <select id="subJuniorTeam" required>
                            <option value="syntax">Syntax</option>
                            <option value="codex">Codex</option>
                            <option value="vertex">Vertex</option>
                            <option value="logix">Logix</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="subJuniorPoints">Sub-Junior Points</label>
                        <input type="number" id="subJuniorPoints" value="650" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="juniorTeam">Junior Leader</label>
                        <select id="juniorTeam" required>
                            <option value="codex">Codex</option>
                            <option value="syntax">Syntax</option>
                            <option value="vertex">Vertex</option>
                            <option value="logix">Logix</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="juniorPoints">Junior Points</label>
                        <input type="number" id="juniorPoints" value="720" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="seniorTeam">Senior Leader</label>
                        <select id="seniorTeam" required>
                            <option value="vertex">Vertex</option>
                            <option value="codex">Codex</option>
                            <option value="syntax">Syntax</option>
                            <option value="logix">Logix</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="seniorPoints">Senior Points</label>
                        <input type="number" id="seniorPoints" value="580" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="superSeniorTeam">Super Senior Leader</label>
                        <select id="superSeniorTeam" required>
                            <option value="logix">Logix</option>
                            <option value="codex">Codex</option>
                            <option value="syntax">Syntax</option>
                            <option value="vertex">Vertex</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="superSeniorPoints">Super Senior Points</label>
                        <input type="number" id="superSeniorPoints" value="620" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="generalTeam">General Leader</label>
                        <select id="generalTeam" required>
                            <option value="codex">Codex</option>
                            <option value="syntax">Syntax</option>
                            <option value="vertex">Vertex</option>
                            <option value="logix">Logix</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="generalPoints">General Points</label>
                        <input type="number" id="generalPoints" value="680" required>
                    </div>
                    
                    <button type="submit">Update Category Leaders</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const publicView = document.getElementById('publicView');
        const adminDashboard = document.getElementById('adminDashboard');
        const openAdminBtn = document.getElementById('openAdmin');
        const closeAdminBtn = document.getElementById('closeAdmin');
        const adminTabs = document.querySelectorAll('.admin-tab');
        const adminContents = document.querySelectorAll('.admin-content');
        const studentSearch = document.getElementById('studentSearch');
        const studentsList = document.getElementById('studentsList');
        
        // Results tables
        const adminResultsTableBody = document.getElementById('adminResultsTableBody');
        
        // Forms
        const adminResultForm = document.getElementById('adminResultForm');
        const teamPointsForm = document.getElementById('teamPointsForm');
        const categoryLeadersForm = document.getElementById('categoryLeadersForm');
        
        // Program search elements
        const adminProgramCode = document.getElementById('adminProgramCode');
        const programSuggestions = document.getElementById('programSuggestions');
        const selectedProgram = document.getElementById('selectedProgram');
        const selectedProgramText = document.getElementById('selectedProgramText');
        
        // Team points elements
        const teamPoints = {
            codex: document.querySelector('.team-card.codex .team-points'),
            syntax: document.querySelector('.team-card.syntax .team-points'),
            vertex: document.querySelector('.team-card.vertex .team-points'),
            logix: document.querySelector('.team-card.logix .team-points')
        };
        
        // Category leader elements
        const categoryLeaders = {
            'sub-junior': document.querySelector('.category-card:nth-child(1) .leading-team'),
            'junior': document.querySelector('.category-card:nth-child(2) .leading-team'),
            'senior': document.querySelector('.category-card:nth-child(3) .leading-team'),
            'super-senior': document.querySelector('.category-card:nth-child(4) .leading-team'),
            'general': document.querySelector('.category-card:nth-child(5) .leading-team')
        };
        
        // Student data
        let students = [
            { id: '2023001', name: 'Ahmed Hassan', house: 'codex', points: 15 },
            { id: '2023002', name: 'Sara Ali', house: 'syntax', points: 12 },
            { id: '2023003', name: 'Mohammed Khan', house: 'vertex', points: 8 },
            { id: '2023004', name: 'Fatima Ahmed', house: 'codex', points: 10 },
            { id: '2023005', name: 'Omar Farooq', house: 'logix', points: 6 }
        ];

        // Team points data
        let teamPointsData = {
            codex: 2450,
            syntax: 2310,
            vertex: 2180,
            logix: 2050
        };

        // Program data - comprehensive list of all programs
        const programs = [
            // Sub Junior Non-Stage
            { code: "SBNS1", name: "APPRECIATION MLM", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS2", name: "CAPTION MAKING", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS3", name: "DIARY WRITING MLM", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS4", name: "DICTIONARY MAKING ARB", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SBNS5", name: "ESSAY WRITING MLM", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS6", name: "HINDI VIDVAN", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SBNS7", name: "JIGSAW PUZZLE", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SBNS8", name: "LETTER WRITING ENG", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS9", name: "MATH TALENT", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Master" },
            { code: "SBNS10", name: "MEMORY TEST", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS11", name: "MULTI LING HAND WRITING", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS12", name: "ORIGAMI", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SBNS13", name: "PENCIL DRAWING", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS14", name: "POEM WRITING ENG", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS15", name: "POEM WRITING MLM", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS16", name: "POWERPOINT CREATION", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SBNS17", name: "SHORT STORY MLM", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS18", name: "STORY COMPLETION ENG", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS19", name: "SUDOKU", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SBNS20", name: "TYPING MASTER ENG", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SBNS21", name: "VOCABULARY", category: "SUB JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Master" },

            // Sub Junior Stage
            { code: "SBST1", name: "ADHĀN", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST2", name: "CONVERSATION MLM", category: "SUB JUNIOR", type: "Group", stage: "Stage", participants: 4, categoryType: "GROUP" },
            { code: "SBST3", name: "CONVERSATION URD", category: "SUB JUNIOR", type: "Group", stage: "Stage", participants: 4, categoryType: "GROUP" },
            { code: "SBST4", name: "GEO GIANT", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Master" },
            { code: "SBST5", name: "GK QUIZ", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Master" },
            { code: "SBST6", name: "GROUP SONG", category: "SUB JUNIOR", type: "Group", stage: "Stage", participants: 3, categoryType: "GROUP" },
            { code: "SBST7", name: "ḤIFẒ", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST8", name: "KADHAKADHANAM", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST9", name: "QIRĀʾAH", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST10", name: "READING ARB", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST11", name: "READING ENG", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST12", name: "READING URD", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST13", name: "SONG ARB", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST14", name: "SONG ENG", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST15", name: "SONG MLM", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST16", name: "SONG URD", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST17", name: "SPEECH & SONG MLM", category: "SUB JUNIOR", type: "Group", stage: "Stage", participants: 3, categoryType: "GROUP" },
            { code: "SBST18", name: "SPEECH ARB", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST19", name: "SPEECH ENG", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST20", name: "SPEECH MLM", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST21", name: "SPEECH URD", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST22", name: "SPELLING BEE", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST23", name: "WAʿẒ", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SBST24", name: "WORD FIGHT ENG", category: "SUB JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Master" },

            // Junior Non-Stage (sample)
            { code: "JNNS1", name: "ACRYLIC PAINTING", category: "JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "JNNS2", name: "DICTIONARY MAKING HINDI", category: "JUNIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "JNNS9", name: "MATH TALENT", category: "JUNIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Master" },

            // Junior Stage (sample)
            { code: "JNST1", name: "GEO GIANT", category: "JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Master" },
            { code: "JNST2", name: "GK QUIZ", category: "JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Master" },
            { code: "JNST20", name: "WORD FIGHT ENG", category: "JUNIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Master" },

            // Senior Non-Stage (sample)
            { code: "SNNS1", name: "CALLIGRAPHY", category: "SENIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Individual" },
            { code: "SNNS9", name: "MAQĀMA ARB", category: "SENIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },

            // Senior Stage (sample)
            { code: "SNST1", name: "ʾALFIYYAH CONTEST", category: "SENIOR", type: "Single", stage: "Stage", participants: 2, categoryType: "Master" },
            { code: "SNST25", name: "WAʿẒ", category: "SENIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },

            // Super Senior Non-Stage (sample)
            { code: "SPNS1", name: "ABSTRACT WRITING ENG", category: "SUPER SENIOR", type: "Single", stage: "Non-Stg", participants: 3, categoryType: "Individual" },
            { code: "SPNS4", name: "AL ʿARABI", category: "SUPER SENIOR", type: "Single", stage: "Non-Stg", participants: 2, categoryType: "Master" },

            // Super Senior Stage (sample)
            { code: "SPST1", name: "ACADEMIC TALK ENG", category: "SUPER SENIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },
            { code: "SPST25", name: "WAʿẒ", category: "SUPER SENIOR", type: "Single", stage: "Stage", participants: 3, categoryType: "Individual" },

            // General (sample)
            { code: "GNNS1", name: "COLLAGE", category: "GENERAL", type: "Group", stage: "Non-Stg", participants: null, categoryType: "GENERAL" },
            { code: "GNST1", name: "CAMPUS TALENT", category: "GENERAL", type: "Group", stage: "Stage", participants: 1, categoryType: "STARRED" }
        ];

        // Current selected program
        let currentSelectedProgram = null;
        
        // Open Admin Dashboard
        openAdminBtn.addEventListener('click', () => {
            const password = prompt('Enter admin password:');
            if (password === 'admin123') {
                publicView.style.display = 'none';
                adminDashboard.style.display = 'block';
            } else {
                alert('Invalid password!');
            }
        });
        
        // Close Admin Dashboard
        closeAdminBtn.addEventListener('click', () => {
            adminDashboard.style.display = 'none';
            publicView.style.display = 'block';
        });
        
        // Admin Tab Switching
        adminTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                adminTabs.forEach(t => t.classList.remove('active'));
                adminContents.forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });

        // Program search functionality
        adminProgramCode.addEventListener('input', function() {
            const searchTerm = this.value.trim().toUpperCase();
            programSuggestions.innerHTML = '';
            
            if (searchTerm.length < 1) {
                programSuggestions.style.display = 'none';
                selectedProgram.style.display = 'none';
                currentSelectedProgram = null;
                return;
            }
            
            const filteredPrograms = programs.filter(program => 
                program.code.includes(searchTerm) || 
                program.name.toUpperCase().includes(searchTerm)
            );
            
            if (filteredPrograms.length > 0) {
                filteredPrograms.forEach(program => {
                    const suggestion = document.createElement('div');
                    suggestion.className = 'program-suggestion';
                    suggestion.innerHTML = `
                        <div class="program-code">${program.code}</div>
                        <div class="program-name">${program.name}</div>
                        <div class="program-details">${program.category} | ${program.type} | ${program.stage} | ${program.categoryType}</div>
                    `;
                    suggestion.addEventListener('click', () => {
                        selectProgram(program);
                    });
                    programSuggestions.appendChild(suggestion);
                });
                programSuggestions.style.display = 'block';
            } else {
                programSuggestions.style.display = 'none';
            }
        });

        // Select program function
        function selectProgram(program) {
            adminProgramCode.value = program.code;
            
            // Display detailed program information
            selectedProgramText.innerHTML = `
                <div class="program-detail-row">
                    <div class="program-detail-label">Program Code:</div>
                    <div class="program-detail-value">${program.code}</div>
                </div>
                <div class="program-detail-row">
                    <div class="program-detail-label">Program Name:</div>
                    <div class="program-detail-value">${program.name}</div>
                </div>
                <div class="program-detail-row">
                    <div class="program-detail-label">Category:</div>
                    <div class="program-detail-value">${program.category}</div>
                </div>
                <div class="program-detail-row">
                    <div class="program-detail-label">Type:</div>
                    <div class="program-detail-value">${program.type}</div>
                </div>
                <div class="program-detail-row">
                    <div class="program-detail-label">Stage:</div>
                    <div class="program-detail-value">${program.stage}</div>
                </div>
                <div class="program-detail-row">
                    <div class="program-detail-label">Participants:</div>
                    <div class="program-detail-value">${program.participants || 'N/A'}</div>
                </div>
                <div class="program-detail-row">
                    <div class="program-detail-label">Category Type:</div>
                    <div class="program-detail-value">${program.categoryType}</div>
                </div>
            `;
            
            selectedProgram.style.display = 'block';
            programSuggestions.style.display = 'none';
            currentSelectedProgram = program;
            
            // Auto-fill category based on program
            const categoryMap = {
                'SUB JUNIOR': 'sub-junior',
                'JUNIOR': 'junior',
                'SENIOR': 'senior',
                'SUPER SENIOR': 'super-senior',
                'GENERAL': 'general'
            };
            
            if (categoryMap[program.category]) {
                document.getElementById('adminCategory').value = categoryMap[program.category];
            }
        }

        // Close suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.program-search-container')) {
                programSuggestions.style.display = 'none';
            }
        });
        
        // Handle Admin Result Form Submission
        adminResultForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const studentId = document.getElementById('adminStudentId').value;
            const studentName = document.getElementById('adminStudentName').value;
            const programCode = document.getElementById('adminProgramCode').value;
            const category = document.getElementById('adminCategory').value;
            const house = document.getElementById('adminTeam').value;
            const position = document.getElementById('adminPosition').value;
            const grade = document.getElementById('adminGrade').value;
            const points = parseInt(document.getElementById('adminPoints').value);
            
            // Get program name
            const programName = currentSelectedProgram ? 
                `${currentSelectedProgram.code} - ${currentSelectedProgram.name}` : 
                programCode;
            
            // Add to admin results table
            addResultToTable(adminResultsTableBody, studentId, studentName, programName, category, house, position, grade, points);
            
            // Update student points and team points
            updateStudentPoints(studentId, studentName, house, points);
            updateTeamPoints(house, points);
            
            // Reset form
            adminResultForm.reset();
            selectedProgram.style.display = 'none';
            currentSelectedProgram = null;
            
            // Show success message with details
            const message = `Result uploaded successfully!\n\nStudent: ${studentName}\nProgram: ${programName}\nPosition: ${position}\nGrade: ${grade}\nPoints: ${points}\n\nStudent points updated: +${points} points\nTeam ${house} points updated: +${points} points`;
            alert(message);
        });
        
        // Handle Team Points Form Submission
        teamPointsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const codexPoints = parseInt(document.getElementById('codexPoints').value);
            const syntaxPoints = parseInt(document.getElementById('syntaxPoints').value);
            const vertexPoints = parseInt(document.getElementById('vertexPoints').value);
            const logixPoints = parseInt(document.getElementById('logixPoints').value);
            
            // Update team points data
            teamPointsData.codex = codexPoints;
            teamPointsData.syntax = syntaxPoints;
            teamPointsData.vertex = vertexPoints;
            teamPointsData.logix = logixPoints;
            
            // Update team points in public view
            teamPoints.codex.textContent = codexPoints;
            teamPoints.syntax.textContent = syntaxPoints;
            teamPoints.vertex.textContent = vertexPoints;
            teamPoints.logix.textContent = logixPoints;
            
            // Show success message
            alert('Team points updated successfully!');
        });
        
        // Handle Category Leaders Form Submission
        categoryLeadersForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const subJuniorTeam = document.getElementById('subJuniorTeam').value;
            const subJuniorPoints = document.getElementById('subJuniorPoints').value;
            const juniorTeam = document.getElementById('juniorTeam').value;
            const juniorPoints = document.getElementById('juniorPoints').value;
            const seniorTeam = document.getElementById('seniorTeam').value;
            const seniorPoints = document.getElementById('seniorPoints').value;
            const superSeniorTeam = document.getElementById('superSeniorTeam').value;
            const superSeniorPoints = document.getElementById('superSeniorPoints').value;
            const generalTeam = document.getElementById('generalTeam').value;
            const generalPoints = document.getElementById('generalPoints').value;
            
            // Update category leaders in public view
            updateCategoryLeader('sub-junior', subJuniorTeam, subJuniorPoints);
            updateCategoryLeader('junior', juniorTeam, juniorPoints);
            updateCategoryLeader('senior', seniorTeam, seniorPoints);
            updateCategoryLeader('super-senior', superSeniorTeam, superSeniorPoints);
            updateCategoryLeader('general', generalTeam, generalPoints);
            
            // Show success message
            alert('Category leaders updated successfully!');
        });
        
        // Helper function to add result to table
        function addResultToTable(tableBody, studentId, studentName, program, category, house, position, grade, points) {
            const newRow = document.createElement('tr');
            
            newRow.innerHTML = `
                <td>${studentId}</td>
                <td>${studentName}</td>
                <td title="${program}">${program.length > 30 ? program.substring(0, 30) + '...' : program}</td>
                <td>${category.charAt(0).toUpperCase() + category.slice(1)}</td>
                <td>${house.charAt(0).toUpperCase() + house.slice(1)}</td>
                <td>${position}</td>
                <td>${grade}</td>
                <td>${points}</td>
                <td><button class="delete-btn">Delete</button></td>
            `;
            
            tableBody.appendChild(newRow);
            
            // Add delete functionality for admin table
            const deleteBtn = newRow.querySelector('.delete-btn');
            deleteBtn.addEventListener('click', function() {
                // Remove points from student and team when deleting
                const pointsToRemove = parseInt(points);
                removeStudentPoints(studentId, pointsToRemove);
                removeTeamPoints(house, pointsToRemove);
                tableBody.removeChild(newRow);
                alert(`Result deleted. Removed ${pointsToRemove} points from student and team ${house}.`);
            });
        }
        
        // Helper function to update category leader
        function updateCategoryLeader(category, team, points) {
            const leaderElement = categoryLeaders[category];
            const teamColor = leaderElement.querySelector('.team-color');
            const teamText = leaderElement.querySelector('div:last-child');
            
            // Update team color
            teamColor.className = `team-color ${team}`;
            
            // Update team text
            teamText.textContent = `${team.charAt(0).toUpperCase() + team.slice(1)} - ${points} points`;
        }
        
        // Update student points
        function updateStudentPoints(studentId, studentName, house, points) {
            // Check if student already exists
            let student = students.find(s => s.id === studentId);
            
            if (student) {
                // Update existing student
                student.points += points;
            } else {
                // Add new student
                students.push({
                    id: studentId,
                    name: studentName,
                    house: house,
                    points: points
                });
            }
            
            // Update student display
            displayStudents();
        }
        
        // Remove student points (when deleting a result)
        function removeStudentPoints(studentId, points) {
            const student = students.find(s => s.id === studentId);
            if (student) {
                student.points -= points;
                if (student.points < 0) student.points = 0;
                displayStudents();
            }
        }
        
        // Update team points
        function updateTeamPoints(house, points) {
            // Update team points data
            teamPointsData[house] += points;
            
            // Update team points display
            teamPoints[house].textContent = teamPointsData[house];
        }
        
        // Remove team points (when deleting a result)
        function removeTeamPoints(house, points) {
            teamPointsData[house] -= points;
            if (teamPointsData[house] < 0) teamPointsData[house] = 0;
            teamPoints[house].textContent = teamPointsData[house];
        }
        
        // Display students
        function displayStudents(filter = '') {
            studentsList.innerHTML = '';
            
            // Sort students by points (descending)
            const sortedStudents = [...students].sort((a, b) => b.points - a.points);
            
            // Filter students if needed
            const filteredStudents = filter 
                ? sortedStudents.filter(s => 
                    s.name.toLowerCase().includes(filter.toLowerCase()) || 
                    s.id.toLowerCase().includes(filter.toLowerCase()) ||
                    s.house.toLowerCase().includes(filter.toLowerCase()))
                : sortedStudents;
            
            // Display students
            filteredStudents.forEach(student => {
                const studentCard = document.createElement('div');
                studentCard.className = 'student-card';
                studentCard.innerHTML = `
                    <div class="student-info">
                        <h3>${student.name} <span class="student-house house-${student.house}">${student.house.toUpperCase()}</span></h3>
                        <p>ID: ${student.id}</p>
                    </div>
                    <div class="student-points">${student.points} point${student.points !== 1 ? 's' : ''}</div>
                `;
                studentsList.appendChild(studentCard);
            });
        }
        
        // Student search functionality
        studentSearch.addEventListener('input', function() {
            displayStudents(this.value);
        });
        
        // Auto-fill points based on position or grade
        function updatePoints() {
            const position = document.getElementById('adminPosition').value;
            const grade = document.getElementById('adminGrade').value;
            const pointsInput = document.getElementById('adminPoints');
            
            let points = 0;
            
            // New points system: 1st/A = 5, 2nd/B = 3, 3rd/C = 1
            if (position === '1st' || grade === 'A') {
                points = 5;
            } else if (position === '2nd' || grade === 'B') {
                points = 3;
            } else if (position === '3rd' || grade === 'C') {
                points = 1;
            } else if (position === 'participation' || grade === 'participation') {
                points = 0;
            }
            
            pointsInput.value = points;
        }
        
        // Add event listeners to position and grade fields
        document.getElementById('adminPosition').addEventListener('change', updatePoints);
        document.getElementById('adminGrade').addEventListener('change', updatePoints);
        
        // Add some sample results
        document.addEventListener('DOMContentLoaded', function() {
            const sampleResults = [
                ['2023001', 'Ahmed Hassan', 'SBNS1 - APPRECIATION MLM', 'junior', 'codex', '1st', 'A', 5],
                ['2023002', 'Sara Ali', 'SBST14 - SONG ENG', 'senior', 'syntax', '2nd', 'B', 3],
                ['2023003', 'Mohammed Khan', 'JNNS1 - ACRYLIC PAINTING', 'general', 'vertex', '3rd', 'C', 1]
            ];
            
            sampleResults.forEach(result => {
                addResultToTable(adminResultsTableBody, ...result);
            });
            
            // Display initial students
            displayStudents();
        });
    </script>
</body>
</html>